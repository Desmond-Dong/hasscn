"use strict";(self.webpackChunkhasscn=self.webpackChunkhasscn||[]).push([["854"],{578:function(e,n,s){s.r(n),s.d(n,{default:()=>t});var r=s(5893),i=s(65);function a(e){let n=Object.assign({h1:"h1",a:"a",h3:"h3",p:"p",h2:"h2",code:"code",pre:"pre",ul:"ul",li:"li",img:"img"},(0,i.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"此安装方法仅适用于高级用户",children:["此安装方法仅适用于高级用户",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#此安装方法仅适用于高级用户",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"此版本修改作者alone",children:["此版本修改作者：",(0,r.jsx)(n.a,{href:"https://anlo.ng/",target:"_blank",rel:"noopener noreferrer",children:"Alone"}),(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#此版本修改作者alone",children:"#"})]}),"\n",(0,r.jsxs)(n.h3,{id:"请确保您已了解系统要求",children:["请确保您已了解",(0,r.jsx)(n.a,{href:"https://github.com/home-assistant/architecture/blob/master/adr/0014-home-assistant-supervised.md",target:"_blank",rel:"noopener noreferrer",children:"系统要求"}),(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#请确保您已了解系统要求",children:"#"})]}),"\n",(0,r.jsxs)(n.h1,{id:"安装-home-assistant-supervised",children:["安装 Home Assistant Supervised",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安装-home-assistant-supervised",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"此安装方法可在常规操作系统上提供完整的 Home Assistant 体验。这意味着将使用 Home Assistant 方法中的所有组件，除了 Home Assistant 操作系统。该系统将运行 Home Assistant Supervisor。Supervisor 不仅仅是一个应用程序，它是一个管理整个系统的完整设备。如果设置不再符合预期值，它将进行清理、修复或将设置重置为默认值。"}),"\n",(0,r.jsx)(n.p,{children:"由于不使用 Home Assistant 操作系统，用户需要负责确保所有必需的组件都已安装并维护。所需的组件及其版本会随着时间的推移而变化。Home Assistant Supervised 作为社区支持的 DIY 解决方案的基础，按原样提供。我们只接受在全新安装、完全更新且没有额外软件包的 Debian 系统上重现的问题的错误报告。"}),"\n",(0,r.jsx)(n.p,{children:"此方法被认为是高级的，仅适用于精通 Linux 操作系统、Docker 和网络管理的专家。"}),"\n",(0,r.jsxs)(n.h2,{id:"安装",children:["安装",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安装",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["以 root 身份运行以下命令（在安装了 sudo 的机器上使用 ",(0,r.jsx)(n.code,{children:"su -"})," 或 ",(0,r.jsx)(n.code,{children:"sudo su -"}),"）："]}),"\n",(0,r.jsx)(n.p,{children:"步骤 1：使用以下命令安装依赖项："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"apt install \\\napparmor \\\nbluez \\\ncifs-utils \\\ncurl \\\ndbus \\\niproute2 \\\njq \\\nlibglib2.0-bin \\\nlsb-release \\\nnetwork-manager \\\nnfs-common \\\nsystemd-journal-remote \\\nsystemd-resolved \\\nsystemd-timesyncd \\\nudisks2 \\\nwget -y\n"})}),"\n",(0,r.jsx)(n.p,{children:"如果您之前没有使用过 NetworkManager，您可能会看到有关如何让 NetworkManager 管理当前网络接口的说明。"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"...\nSetting up network-manager (1.42.4-1) ...\n\nThe following network interfaces were found in /etc/network/interfaces\nwhich means they are currently configured by ifupdown:\n- enp1s0\nIf you want to manage those interfaces with NetworkManager instead\nremove their configuration from /etc/network/interfaces.\n...\n"})}),"\n",(0,r.jsx)(n.p,{children:"在继续之前，请按照以下步骤操作！"}),"\n",(0,r.jsx)(n.p,{children:"步骤 2：使用以下命令安装 Docker-CE："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl -fsSL get.docker.com | sh\n"})}),"\n",(0,r.jsx)(n.p,{children:"步骤 3：安装 OS-Agent："}),"\n",(0,r.jsxs)(n.p,{children:["OS-Agent 的安装说明可以在",(0,r.jsx)(n.a,{href:"https://github.com/home-assistant/os-agent/tree/main#using-home-assistant-supervised-on-debian",target:"_blank",rel:"noopener noreferrer",children:"这里"}),"找到"]}),"\n",(0,r.jsx)(n.p,{children:"步骤 4：安装 Home Assistant Supervised Debian 包："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"wget -O homeassistant-supervised.deb https://github.com/hasscc/supervised-installer/releases/latest/download/homeassistant-supervised.deb\napt install ./homeassistant-supervised.deb\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"支持的机器类型",children:["支持的机器类型",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#支持的机器类型",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"generic-x86-64"}),"\n",(0,r.jsx)(n.li,{children:"odroid-c2"}),"\n",(0,r.jsx)(n.li,{children:"odroid-c4"}),"\n",(0,r.jsx)(n.li,{children:"odroid-n2"}),"\n",(0,r.jsx)(n.li,{children:"odroid-xu"}),"\n",(0,r.jsx)(n.li,{children:"qemuarm"}),"\n",(0,r.jsx)(n.li,{children:"qemuarm-64"}),"\n",(0,r.jsx)(n.li,{children:"qemux86"}),"\n",(0,r.jsx)(n.li,{children:"qemux86-64"}),"\n",(0,r.jsx)(n.li,{children:"raspberrypi"}),"\n",(0,r.jsx)(n.li,{children:"raspberrypi2"}),"\n",(0,r.jsx)(n.li,{children:"raspberrypi3"}),"\n",(0,r.jsx)(n.li,{children:"raspberrypi4"}),"\n",(0,r.jsx)(n.li,{children:"raspberrypi3-64"}),"\n",(0,r.jsx)(n.li,{children:"raspberrypi4-64"}),"\n",(0,r.jsx)(n.li,{children:"raspberrypi5-64"}),"\n",(0,r.jsx)(n.li,{children:"tinker"}),"\n",(0,r.jsx)(n.li,{children:"khadas-vim3"}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"配置说明",children:["配置说明",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置说明",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["默认的 ",(0,r.jsx)(n.code,{children:"$DATA_SHARE"})," 路径是 ",(0,r.jsx)(n.code,{children:"/var/lib/homeassistant"}),"（之前是 ",(0,r.jsx)(n.code,{children:"/usr/share/hassio"}),"）。\n该路径用于存储所有与 Home Assistant 相关的内容。"]}),"\n",(0,r.jsx)(n.p,{children:"您可以在安装时通过以下方式重新配置该路径："}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"DATA_SHARE=/my/own/homeassistant dpkg --force-confdef --force-confold -i homeassistant-supervised.deb\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"问题排查",children:["问题排查",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#问题排查",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["如果遇到问题，可以使用 ",(0,r.jsx)(n.code,{children:"journalctl -f"})," 查看系统日志。如果您不熟悉 Linux 系统及其问题排查方法，我们建议您使用 Home Assistant OS。"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://www.openhomefoundation.org/",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(n.img,{src:"https://www.openhomefoundation.org/badges/home-assistant.png",alt:"Home Assistant - 开源家庭基金会项目"})})})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}let t=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["Supervised.md"]={toc:[{text:"此版本修改作者：Alone",id:"此版本修改作者alone",depth:3},{text:"请确保您已了解系统要求",id:"请确保您已了解系统要求",depth:3},{text:"安装",id:"安装",depth:2},{text:"支持的机器类型",id:"支持的机器类型",depth:2},{text:"配置说明",id:"配置说明",depth:2},{text:"问题排查",id:"问题排查",depth:2}],title:"安装 Home Assistant Supervised",headingTitle:"安装 Home Assistant Supervised",frontmatter:{}}}}]);